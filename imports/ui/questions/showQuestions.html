<template name="StartQuestions">
    {{#unless UserHasEnded.endOfQuestions}} 
        {{#if Questions}} 
            {{#with Questions}} 
                {{> ShowOneQuestion}} 
            {{/with}} 
        {{/if}} 
    {{else}}
        {{#if UserHasEnded.endOfQuestions}} 
            {{> showEndOfQuestions}} 
        {{else}}
            {{> WithoutPermissions}} 
        {{/if}} 
    {{/unless}}
</template>

<!-- Template to answer all the questions -->
<template name="ShowOneQuestion">
    <div style="margin-top: 20px;">
        <div class="row">
            <div class="col-sm-3">
                {{#if isJoker}} 
                    {{> JokerQuestion}} 
                {{/if}}

                {{> informationAboutQuestion}}
            </div>

            {{#if answers}}
            <div class="col-sm-7">
                <div class="w3-container w3-card-2 w3-white w3-round"><br>
                    {{#if location.circuit}}
                        <span class="w3-right w3-opacity">{{location.circuit}}</span>
                    {{else}}
                        <span class="w3-right w3-opacity">{{location}}</span>
                    {{/if}}

                    <br>
                    <h3>{{statement}}</h3>
                    <hr class="w3-clear">
                    <label><input type="radio" name="answer" value="1"> {{answers.answer_1}}</label>
                    <br>
                    <label><input type="radio" name="answer" value="2"> {{answers.answer_2}}</label>
                    <br>
                    <label><input type="radio" name="answer" value="3"> {{answers.answer_3}}</label>
                    <br>
                    <br>
                    <center>
                        <button type="button" class="w3-button w3-theme-d1 w3-margin-bottom"><i class="fa fa-check-square-o"></i> Comprobar</button>
                    </center>
                </div>
            </div>
            {{/if}}

            <br>
            <div class="col-sm-2">
                {{#if UserGotJoker}}
                <div class="w3-container w3-card-2 w3-white w3-round">
                    {{> GotJoker}}
                </div>
                {{/if}}
            </div>
        </div>
    </div>
</template>

<template name="GotJoker">
    <div class="w3-container w3-white w3-round">
        <h4>¡ENHORABUENA!</h4>
        <hr class="w3-clear">
        <div class="Text-GotJoker">
            Dispones de una banana-comodín por haber contestado correctamente a la última pregunta Comodín
        </div>
    </div>
</template>

<template name="JokerQuestion">
    <div class="w3-container w3-card-2 w3-white w3-round">
        <div id="flotante"></div>
 
        <h3>Pregunta Comodín</h3>        
        <img src="Banana_Comodin.png" width="180" height="120" style="padding: 10px;">
        <p type="button" class="js-showmessage w3-button w3-theme-d1 w3-margin-bottom"><i class="fa fa-info-circle"></i></p>                
    </div>
</template>

<template name="informationAboutQuestion">
    {{#if numberAnsweredQuestions}}
        <div class="w3-container w3-card-2 w3-white w3-round w3-margin">
            {{textAnsweredQuestions}}
            <br>
            <h3 style="text-align: center">{{numberAnsweredQuestions}}</h3>
        </div>
    {{/if}}
</template>

<template name="showEndOfQuestions">
    <div class="MargiOn-Div">
        <div class="row">
            <div class="col-sm-4">

            </div>

            <div class="col-sm-4">
                <div class="w3-container w3-card-2 w3-white w3-round" id="congratsAfterQuestions">
                    <h3>¡ENHORABUENA!</h3>
                </div>
            </div>

            <div class="col-sm-2">
            </div>
        </div>
    </div>

    <div class="MargiOn-Div">
        <div class="row">
            <div class="col-sm-4">

            </div>

            <div class="col-sm-4">
                <div class="w3-container w3-card-2 w3-white w3-round" id="congratsAfterQuestions">
                    <img src="MonoConFondoBlanco.png" alt="Mono" style="width:304px;height:350px;padding: 10px;">
                </div>
            </div>

            <div class="col-sm-2">
            </div>
        </div>
    </div>

    <div class="MargiOn-Div">
        <div class="w3-container w3-card-2 w3-white w3-round" style="padding-bottom: 20px;">
            <br>
            <h4>Échale un vistazo al resúmen de las preguntas contestadas antes de empezar con la segunda fase del juego</h4>
            <div>
                <p class="accordion-titulo-withoutclick">
                    Has contestado a {{showAllQuestionsAnswered}} preguntas
                </p>

                <p class="js-showmessageCorrect">
                    <p class="accordion-titulo">Has acertado {{showAllCorrectQuestions}} preguntas
                        <span class="toggle-icon"></span>
                    </p>                        
                </p>
                {{#if ShowTextCorrectQuestions}}
                    {{> CorrectQuestionsAnswered}}
                    <div id="floating-button-Correct" data-toggle="tooltip" data-placement="left" data-original-title="Create">
                        <p class="plus">-</p>
                    </div>
                {{/if}}

                <p class="js-showmessageIncorrect">
                    <p class="accordion-titulo">Has fallado {{showAllIncorrectQuestions}} preguntas
                        <span class="toggle-icon"></span>
                    </p>
                </p>
                {{#if ShowTextIncorrectQuestions}}
                    {{> IncorrectQuestionsAnswered}}
                    <div id="floating-button-Incorrect" data-toggle="tooltip" data-placement="left" data-original-title="Create">
                            <p class="plus">-</p>
                    </div>
                {{/if}}
            </div>
        </div>
    </div>

    <br>

    <div class="MargiOn-Div">
        <div class="w3-container w3-card-2 w3-white w3-round">
            <div class="row" style="padding-top: 15px;">
                <div class="col-sm-4" id="markText">Su nota final es</div>
                <div class="col-sm-4 showMark-Text" id="markText">
                    {{showMark}}
                </div>
                <div class="col-sm-4">
                    <center>
                        <a href="/StartBoard">
                            <button type="button" class="w3-button w3-theme-d1 w3-margin-bottom"><i class="fa fa-check-square-o"></i>
                                Pinche para continuar
                            </button>
                        </a>
                    </center>
                </div>
            </div>
        </div>
        <br>
    </div>
	<br>
	<br>
	<br>
	<br>
	<br>
    {{> ShareOnMedia}}            
    
</template>

<template name="CorrectQuestionsAnswered">
    {{#each CorrectQuestions}}
        <strong>{{this.statement}}</strong>
        <ul>
            {{#if equals this.corectAnswer 1}}
                <li class="CorrectAnswerText" >{{this.answer1}}</li>
            {{else}}
                <li>{{this.answer1}}</li>                
            {{/if}}

            {{#if equals this.corectAnswer 2}}
                <li class="CorrectAnswerText" >{{this.answer2}}</li>
           {{else}}
                <li>{{this.answer2}}</li>                
            {{/if}}

            {{#if equals this.corectAnswer 3}}
                <li class="CorrectAnswerText" >{{this.answer3}}</li>
            {{else}}
                <li>{{this.answer3}}</li>                
            {{/if}}  
            
            <hr class="w3-clear">
        </ul>
    {{/each}}
</template>

<template name="IncorrectQuestionsAnswered">
    {{#each IncorrectQuestions}}
        <strong>{{this.statement}}</strong>
        <ul>
            {{#if equals this.corectAnswer 1}}
                <li class="CorrectAnswerText" >{{this.answer1}}</li>
            {{else}}
                {{#if equals this.wrongAnswer 1}}
                    <li class="IncorrectAnswerText" >{{this.answer1}}</li>                
                {{else}}
                    <li>{{this.answer1}}</li>
                {{/if}}                
            {{/if}}

            {{#if equals this.corectAnswer 2}}
                <li class="CorrectAnswerText" >{{this.answer2}}</li>
            {{else}}
                {{#if equals this.wrongAnswer 2}}
                    <li class="IncorrectAnswerText" >{{this.answer2}}</li>                
                {{else}}
                    <li>{{this.answer2}}</li>
                {{/if}}                
            {{/if}}

            {{#if equals this.corectAnswer 3}}
                <li class="CorrectAnswerText" >{{this.answer3}}</li>
            {{else}}
                {{#if equals this.wrongAnswer 3}}
                    <li class="IncorrectAnswerText" >{{this.answer3}}</li>                
                {{else}}
                    <li>{{this.answer3}}</li>
                {{/if}}                
            {{/if}}
            
            <hr class="w3-clear">
        </ul>
    {{/each}}
</template>